{"ast":null,"code":"// src/ProtectedRoute.js\nimport React,{useEffect,useState}from'react';import{useNavigate}from'react-router-dom';// Helper function to check if user is authenticated\nconst isAuthenticated=async()=>{const response=await fetch('/api/checkAuth');const data=await response.json();return data.isAuthenticated;};function ProtectedRoute(_ref){let{children}=_ref;const[auth,setAuth]=useState(false);const navigate=useNavigate();useEffect(()=>{const checkAuth=async()=>{const loggedIn=await isAuthenticated();if(!loggedIn){navigate('/login');// Redirect to login if not authenticated\n}else{setAuth(true);// Set authenticated state to true\n}};checkAuth();},[navigate]);return auth?children:null;// Render children (protected page) only if authenticated\n}export default ProtectedRoute;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","isAuthenticated","response","fetch","data","json","ProtectedRoute","_ref","children","auth","setAuth","navigate","checkAuth","loggedIn"],"sources":["/Users/ddc/Documents/GitHub/code-golf/Website Stuff/Current Version/V3/my-app/frontend/src/ProtectedRoute.js"],"sourcesContent":["// src/ProtectedRoute.js\nimport React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\n\n// Helper function to check if user is authenticated\nconst isAuthenticated = async () => {\n    const response = await fetch('/api/checkAuth');\n    const data = await response.json();\n    return data.isAuthenticated;\n};\n\nfunction ProtectedRoute({ children }) {\n  const [auth, setAuth] = useState(false);\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    const checkAuth = async () => {\n      const loggedIn = await isAuthenticated();\n      if (!loggedIn) {\n        navigate('/login'); // Redirect to login if not authenticated\n      } else {\n        setAuth(true); // Set authenticated state to true\n      }\n    };\n    checkAuth();\n  }, [navigate]);\n\n  return auth ? children : null; // Render children (protected page) only if authenticated\n}\n\nexport default ProtectedRoute;\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,kBAAkB,CAE9C;AACA,KAAM,CAAAC,eAAe,CAAG,KAAAA,CAAA,GAAY,CAChC,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,gBAAgB,CAAC,CAC9C,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CAClC,MAAO,CAAAD,IAAI,CAACH,eAAe,CAC/B,CAAC,CAED,QAAS,CAAAK,cAAcA,CAAAC,IAAA,CAAe,IAAd,CAAEC,QAAS,CAAC,CAAAD,IAAA,CAClC,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGX,QAAQ,CAAC,KAAK,CAAC,CACvC,KAAM,CAAAY,QAAQ,CAAGX,WAAW,CAAC,CAAC,CAE9BF,SAAS,CAAC,IAAM,CACd,KAAM,CAAAc,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC5B,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAZ,eAAe,CAAC,CAAC,CACxC,GAAI,CAACY,QAAQ,CAAE,CACbF,QAAQ,CAAC,QAAQ,CAAC,CAAE;AACtB,CAAC,IAAM,CACLD,OAAO,CAAC,IAAI,CAAC,CAAE;AACjB,CACF,CAAC,CACDE,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,CAACD,QAAQ,CAAC,CAAC,CAEd,MAAO,CAAAF,IAAI,CAAGD,QAAQ,CAAG,IAAI,CAAE;AACjC,CAEA,cAAe,CAAAF,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}